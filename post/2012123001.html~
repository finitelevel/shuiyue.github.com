<!Doctype html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8" />
<meta name="description" content="个人博客" />
<meta name="keywords" content="Java,WEB项目,根路径,搜索,技术博客,程序猿,程序员" />
<title>水月痴人博客</title>

<!-- Fav icon -->
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />

<!-- Stylesheets -->
<link rel="stylesheet" type="text/css" href="../css/reset.css" />
<link rel="stylesheet" type="text/css" href="../style.css" />

<!--[if lte IE 8]>
	<style type="text/css">.blog_page img{width:582px;}</style>
<![endif]-->	

</head>

<!-- Body starts -->
<body>
<div class="container_xl">
	
	<div class="top_section">
		<!-- Logo -->
		<div class="logo"><a href="../index.html">水月BLOG</a></div>
	</div>
	<!-- Top section Ends -->
	
	<!-- Main wrapper -->
	<div class="main_wrapper_top margin_10"></div>
	
	<!-- Slogan -->
	<div class="slogan">
		<h5>Welcome to my blog</h5>
	</div>
	<!-- Slogan Ends -->
	
	<div class="main_wrapper">
	
		<!-- Content starts -->
		<div class="content_gradient">
			
			<!-- Left column starts -->
			<div class="content_2_columns_left blog_page">
				
				<!-- Post starts -->
				<div class="post_wrapper">
					<div class="post_data">	
						<h1><a href="#">JAVA WEB项目如何获得项目根路径？</a></h1>
						<h5>Posted at 12/30/2010</h5>
					</div>
					<a href="#"><img src="../images/test.jpg" class="border_magic float_left" alt="" /></a>	
					<p>前段时间做JSP项目，需要引用项目的根路径，即是request.getContextPath()获取到的路径。但是由于系统是用struts2开发，在JSP页面中不想出现Java代码（至于理由大家都知道，我就不赘述了），于是想用EL表达式来获取，思考了一会儿没好的思路，无非是换汤不换药的做法，于是Google。</p>
					<p>检索出一个比较好的解决方案是在Action里通过ActionContext.getRequest.setAttributes("root","/xxx（项目根路径）")，然后在JSP页面中通过${request.root}来获取，这种方法主要有两方面的不足：第一是需要在每个需要获取根路径的action里设置比较麻烦，第二是对于不执行action的页面来讲这种方法不太实用（当然有解决方案，但是只会将这种方法推向更麻烦的境地）。</p>
					<p>后来发现通过相对路径设置更简单，例如访问根路径下的image文件目录，而此时在根目录下的product文件目录下，只需用：../image即可访问到，比上一个方法简单了不少，这种方法通过避开获取根路径来达到目的，以此来降低复杂度。缺点是需要知道目录的层次，加上一些struts命名空间的影响，导致用这种方法经常出现找不到路径的感觉。</P>
					<P>在读struts2文档的时候发现一种新的方法，直接在页面中通过${pageContext.request.contextPath}获取根路径，是为比以上两种更好的方法，起码消除了以上两种方法的不足之处，特此记录。</p>
				</div>
				<!-- Post Ends -->
				
				
				
			</div>
			<!-- Left column Ends -->
			
			<!-- Right column starts -->
			<div class="content_2_columns_right">
				
				<h1>近期文章</h1>
				<ul>
					<li><a href="2012123001.html">JAVA WEB项目如何获得项目根路径？</a></li>
					<li><a href="2012071201.html">Struts2中global-exception-mappings的配置</a></li>
					<li><a href="#">Java集合应用中的一个小问题</a></li>
					<li><a href="#">Jetty中文乱码问题的解决</a></li>
					<li><a href="#">JS中URLEncode格式化字符串</a></li>
				</ul>

				<p></p>
				
				<h2>水月痴人<small>-程序猿</small></h2>
				<p>夫君子之行，静以修身，俭以养德，非淡泊无以明志，非宁静无以致远。夫学须静也，才须学也，非学无以广才，非志无以成学。淫慢则不能励精，险躁则不能冶性。年与时驰，意与日去，遂成枯落，多不接世，悲守穷庐，将复何及！</p>
				
				<h1>热门文章</h1>
				<ul>
					<li><a href="#">Java集合应用中的一个小问题</a></li>
					<li><a href="#">JAVA WEB项目如何获得项目根路径？</a></li>

				</ul>
				
			</div>
			<!-- Right column Ends -->
			
		</div>
		<!-- Content Ends -->

	</div>
	
</div>

<!-- Footer -->
<div class="footer_wide">
	<div class="container_xl">
		<!-- Credits -->
		<div class="credits">
		Copyright &copy; 2013 <a href="#">水月痴人</a> All rights reserved.
		</div>
	</div>

</div>





</body>

</html>
